{"version":3,"sources":["index.tsx"],"names":[],"mappings":";AAsFA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IA9EA,IAAM,EAAe,SAAC,GACd,IAAA,EAAU,KAAK,QAAQ,IAAI,KAAK,EAAM,SAAW,IAAI,KAAK,EAAM,WAAa,GAAK,KAC9E,MAAA,GAAA,OAAA,KAAK,MAAM,EAAU,IAAO,KAAA,OAAA,IAAI,OAAA,EAAU,IAAK,OAAO,KAG5D,EAAW,SAAC,GAAiB,OAAA,IAAI,KAAK,GAAM,cAAc,QAAQ,gBAAiB,KAInF,EAAU,SAAC,EAAc,GAAiB,OAAA,OAAO,KAAK,GAAO,OACjE,SAAC,EAAO,EAAK,GACL,IAAA,EAAQ,EAAM,GAEhB,OAAU,OAAV,EACQ,GAAA,OAAA,GAAQ,OAAU,IAAV,EAAc,IAAM,KAAM,OAAA,EAAO,KAAA,OAAA,mBAAmB,IAEjE,GAET,IAGI,EAAwB,SAAC,GAA0B,OAAA,EAAQ,8CAA+C,CAC9G,OAAQ,WACR,MAAU,GAAA,OAAA,EAAS,EAAM,UAAa,KAAA,OAAA,EAAS,EAAM,SACrD,SAAU,EAAM,SAChB,KAAM,EAAM,KACZ,QAAS,EAAM,WAGX,EAAyB,SAAC,GAA0B,OAAA,EAAQ,+BAAgC,CAChG,IAAK,WACL,QAAS,EAAS,EAAM,UACxB,MAAO,EAAS,EAAM,QACtB,QAAS,EAAM,KACf,SAAU,EAAM,SAChB,KAAM,EAAM,QACZ,QAAQ,EACR,KAAK,IAAI,MAAO,UAAU,WAC1B,KAAM,0BAGF,EAAuB,SAAC,GAA0B,OAAA,EAAQ,6BAA8B,CAC5F,EAAG,GACH,KAAM,IACN,KAAM,GACN,MAAO,EAAM,KACb,GAAI,EAAS,EAAM,UACnB,IAAK,EAAa,GAClB,KAAM,EAAM,QAEZ,OAAQ,EAAM,YAGV,EAAqB,SAAC,GACpB,IAAA,EAAa,CACjB,kBACA,cACA,eACO,OAAA,OAAA,SAAS,KACL,WAAA,OAAA,EAAS,EAAM,WACjB,SAAA,OAAA,EAAS,EAAM,SACb,WAAA,OAAA,EAAM,MACF,eAAA,OAAA,EAAM,SACT,YAAA,OAAA,EAAM,UAClB,aACA,iBAGK,OAAA,UAA6C,mCAAA,OAAA,EAAW,KAAK,SAGhE,EAAW,SAAC,GAA2B,MAAA,CAC3C,OAAQ,EAAsB,GAC9B,QAAS,EAAuB,GAChC,MAAO,EAAqB,GAC5B,IAAK,EAAmB,KAG1B,QAAA,QAAe","file":"index.js","sourceRoot":"../src","sourcesContent":["export type TCalendarEvent = {\n  name: string;\n  details: string | null;\n  location: string | null;\n  startsAt: string;\n  endsAt: string;\n}\n\nconst makeDuration = (event: TCalendarEvent) => {\n  const minutes = Math.floor((+new Date(event.endsAt) - +new Date(event.startsAt)) / 60 / 1000);\n  return `${Math.floor(minutes / 60)}:${`0${minutes % 60}`.slice(-2)}`;\n};\n\nconst makeTime = (time: string) => new Date(time).toISOString().replace(/[-:]|\\.\\d{3}/g, '');\n\ntype Query = { [key: string]: null | boolean | number | string };\n\nconst makeUrl = (base: string, query: Query) => Object.keys(query).reduce(\n  (accum, key, index) => {\n    const value = query[key];\n\n    if (value !== null) {\n      return `${accum}${index === 0 ? '?' : '&'}${key}=${encodeURIComponent(value)}`;\n    }\n    return accum;\n  },\n  base\n);\n\nconst makeGoogleCalendarUrl = (event: TCalendarEvent) => makeUrl('https://calendar.google.com/calendar/render', {\n  action: 'TEMPLATE',\n  dates: `${makeTime(event.startsAt)}/${makeTime(event.endsAt)}`,\n  location: event.location,\n  text: event.name,\n  details: event.details,\n});\n\nconst makeOutlookCalendarUrl = (event: TCalendarEvent) => makeUrl('https://outlook.live.com/owa', {\n  rru: 'addevent',\n  startdt: makeTime(event.startsAt),\n  enddt: makeTime(event.endsAt),\n  subject: event.name,\n  location: event.location,\n  body: event.details,\n  allday: false,\n  uid: new Date().getTime().toString(),\n  path: '/calendar/view/Month',\n});\n\nconst makeYahooCalendarUrl = (event: TCalendarEvent) => makeUrl('https://calendar.yahoo.com', {\n  v: 60,\n  view: 'd',\n  type: 20,\n  title: event.name,\n  st: makeTime(event.startsAt),\n  dur: makeDuration(event),\n  desc: event.details,\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  in_loc: event.location,\n});\n\nconst makeICSCalendarUrl = (event: TCalendarEvent) => {\n  const components = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0',\n    'BEGIN:VEVENT',\n    `URL:${document.URL}`,\n    `DTSTART:${makeTime(event.startsAt)}`,\n    `DTEND:${makeTime(event.endsAt)}`,\n    `SUMMARY:${event.name}`,\n    `DESCRIPTION:${event.details}`,\n    `LOCATION:${event.location}`,\n    'END:VEVENT',\n    'END:VCALENDAR',\n  ];\n\n  return encodeURI(`data:text/calendar;charset=utf8,${components.join('\\n')}`);\n};\n\nconst makeUrls = (event: TCalendarEvent) => ({\n  google: makeGoogleCalendarUrl(event),\n  outlook: makeOutlookCalendarUrl(event),\n  yahoo: makeYahooCalendarUrl(event),\n  ics: makeICSCalendarUrl(event),\n});\n\nexport default makeUrls;\n"]}